<div style="margin-left:-1rem; margin-right:-1rem;">
<h2>Pending Event Approvals ( {{ pendingevents|length }} )</h2>
<p>Review and approve or decline new campaign submissions. All fields are editable before approval.</p>
<div class="table-responsive" style="width:100%">
    <table class="pending-events-table">
        <thead>
                    <tr>
                        <th style="width: 1%; min-width: 80px;">Action</th>

                        <th style="width: 20%;">Name, Location, Category</th>
                        <th style="width: 18%;">Dates & Times</th>

                        <th>Description</th>

                        <th style="width: 15%;">Submitted By</th>
                    </tr>
                </thead>
        <tbody>
            {% for event in pendingevents %}
            <tr class="event-row">
                <td style="vertical-align: top; text-align: center;">
                    <label style="font-weight: bold; font-size: 0.8em; display:block; text-align: left;">Event ID</label>
                        <input type="number" name="eventid" readonly value="{{ event.eventid }}" style="width: 100%; margin-bottom: 8px; background-color: rgba(0,0,0,0.2);">
                    <button type="button" class="action-btn approve-btn" style="margin-bottom: 8px; width: 100%;">Approve</button>
                    <button type="button" class="action-btn decline-btn" style="width: 100%;" onclick="declineEvent('{{ event.eventid }}')">Decline</button>
                </td>
                <td style="vertical-align: top;">
                    <label style="font-weight: bold; font-size: 0.8em; display:block;">Event Name</label>
                    <input type="text" name="eventname" value="{{ event.eventname }}" maxlength="50" required style="width: 100%; margin-bottom: 8px;">

                    <label style="font-weight: bold; font-size: 0.8em; display:block;">Location</label>
                    <input type="text" name="location" value="{{ event.location }}" maxlength="30" required style="width: 100%; margin-bottom: 8px;">

                    <label style="font-weight: bold; font-size: 0.8em; display:block;">Category</label>
                    <select name="category" required style="width: 100%;">
                        {% for name, events in categories.items() %}
                        {% for eventname in events %}
                        <option value="{{eventname}}" {% if event.category == eventname %}selected{% endif %}>{{ eventname }}</option>
                        {% endfor %}
                        {% endfor %}
                    </select>
                </td>
                <td style="vertical-align: top;">
                    <label style="font-weight: bold; font-size: 0.8em; display:block;">Start</label>
                    <div style="display: flex; gap: 5px; margin-bottom: 8px;">
                        <input type="date" name="eventstartdate" value="{{ event.eventstartdate }}" required style="width: 130px;">
                        <input type="time" name="eventstarttime" value="{{ event.eventstarttime }}" required>
                    </div>

                    <label style="font-weight: bold; font-size: 0.8em; display:block;">End</label>
                    <div style="display: flex; gap: 5px;">
                        <input type="date" name="eventenddate" value="{{ event.eventenddate }}" required style="width: 130px;">
                        <input type="time" name="eventendtime" value="{{ event.eventendtime }}" required>
                    </div>
                </td>
                <td style="vertical-align: top;">
                    <label style="font-weight: bold; font-size: 0.8em; display:block;">Description</label>
                    <textarea name="description" rows="6" maxlength="500" required style="width: 100%; resize: vertical;">{{ event.description }}</textarea>
                </td>
                <td style="vertical-align: top;">
                    <label style="font-weight: bold; font-size: 0.8em; display:block;">Username</label>
                    <input type="text" name="username" value="{{ event.username }}" required readonly style="width: 100%; margin-bottom: 8px; background-color: rgba(0,0,0,0.2);">

                    <label style="font-weight: bold; font-size: 0.8em; display:block;">Email</label>
                    <input type="text" name="email" value="{{ event.email }}" required readonly style="width: 100%; background-color: rgba(0,0,0,0.2);">
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" style="text-align: center; padding: 3rem; color: var(--text-muted);">
                    No pending events to approve.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</div>
